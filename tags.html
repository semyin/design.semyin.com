<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>标签 - 简约博客</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="site-title">简约博客</h1>
            <div class="header-right">
                <div class="mobile-actions mobile-only">
                    <button class="search-toggle" title="搜索">🔍</button>
                    <button class="theme-toggle" title="切换主题"></button>
                </div>
            </div>
        </div>
    </header>

    <!-- 搜索弹出层 -->
    <div class="search-overlay">
        <div class="search-modal">
            <div class="search-modal-header">
                <input type="text" class="search-modal-input" placeholder="搜索文章..." autofocus>
                <button class="search-close">✕</button>
            </div>
            <div class="search-history">
                <div class="search-history-header">
                    <span class="search-history-title">搜索历史</span>
                    <button class="search-history-clear">清除</button>
                </div>
                <div class="search-history-content">
                    <!-- 搜索历史将显示在这里 -->
                </div>
            </div>
            <div class="search-results">
                <div class="search-results-content">
                    <!-- 搜索结果将显示在这里 -->
                </div>
            </div>
        </div>
    </div>

    <nav class="main-nav">
        <div class="container">
            <div class="nav-links">
                <a href="index.html" class="nav-link">首页</a>
                <a href="categories.html" class="nav-link">分类</a>
                <a href="tags.html" class="nav-link active">标签</a>
                <a href="#" class="nav-link">RSS</a>
                <a href="about.html" class="nav-link">关于</a>
            </div>
        </div>
    </nav>

    <main class="main">
        <div class="container">
            <div class="page-header">
                <h2 class="page-title">标签云</h2>
                <p class="page-description">按标签查看文章</p>
            </div>

            <section class="tags-cloud">
                <div class="tag-item" data-count="5">
                    <span class="tag-name">技术</span>
                    <span class="tag-count">5</span>
                </div>
                <div class="tag-item" data-count="3">
                    <span class="tag-name">前端</span>
                    <span class="tag-count">3</span>
                </div>
                <div class="tag-item" data-count="2">
                    <span class="tag-name">JavaScript</span>
                    <span class="tag-count">2</span>
                </div>
                <div class="tag-item" data-count="2">
                    <span class="tag-name">CSS</span>
                    <span class="tag-count">2</span>
                </div>
                <div class="tag-item" data-count="1">
                    <span class="tag-name">设计</span>
                    <span class="tag-count">1</span>
                </div>
                <div class="tag-item" data-count="1">
                    <span class="tag-name">UI/UX</span>
                    <span class="tag-count">1</span>
                </div>
                <div class="tag-item" data-count="1">
                    <span class="tag-name">生活</span>
                    <span class="tag-count">1</span>
                </div>
                <div class="tag-item" data-count="1">
                    <span class="tag-name">思考</span>
                    <span class="tag-count">1</span>
                </div>
            </section>

            <section class="posts" id="tag-posts">
                <!-- 选中标签的文章列表将在这里显示 -->
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p class="copyright">&copy; 2024 简约博客. 专注内容，简约至上.</p>
        </div>
    </footer>

    <!-- 返回顶部按钮 -->
    <button class="back-to-top" title="返回顶部">TOP</button>

    <script>
        // 标签页特有的JavaScript
        document.addEventListener('DOMContentLoaded', () => {
            const tagItems = document.querySelectorAll('.tag-item');
            const postsSection = document.getElementById('tag-posts');

            // 模拟文章数据
            const postsData = {
                '技术': [
                    { title: '如何构建一个简约的静态博客', date: '2024-08-19', tags: ['技术', '前端'], href: 'post.html' },
                    { title: 'JavaScript异步编程最佳实践', date: '2024-08-05', tags: ['技术', 'JavaScript'], href: 'post.html' },
                    { title: 'CSS Grid 完全指南', date: '2024-08-01', tags: ['技术', 'CSS'], href: 'post.html' }
                ],
                '前端': [
                    { title: '如何构建一个简约的静态博客', date: '2024-08-19', tags: ['技术', '前端'], href: 'post.html' }
                ],
                'JavaScript': [
                    { title: 'JavaScript异步编程最佳实践', date: '2024-08-05', tags: ['技术', 'JavaScript'], href: 'post.html' }
                ],
                'CSS': [
                    { title: 'CSS Grid 完全指南', date: '2024-08-01', tags: ['技术', 'CSS'], href: 'post.html' }
                ],
                '设计': [
                    { title: '极简设计的美学原则', date: '2024-08-15', tags: ['设计', 'UI/UX'], href: 'post.html' }
                ],
                'UI/UX': [
                    { title: '极简设计的美学原则', date: '2024-08-15', tags: ['设计', 'UI/UX'], href: 'post.html' }
                ],
                '生活': [
                    { title: '数字时代的深度思考', date: '2024-08-10', tags: ['生活', '思考'], href: 'post.html' }
                ],
                '思考': [
                    { title: '数字时代的深度思考', date: '2024-08-10', tags: ['生活', '思考'], href: 'post.html' }
                ]
            };

            tagItems.forEach(tagItem => {
                tagItem.addEventListener('click', () => {
                    // 移除之前的活跃状态
                    tagItems.forEach(item => item.classList.remove('active'));
                    // 添加当前活跃状态
                    tagItem.classList.add('active');

                    const tagName = tagItem.querySelector('.tag-name').textContent;
                    displayPostsForTag(tagName);
                });
            });

            function displayPostsForTag(tagName) {
                const posts = postsData[tagName] || [];
                
                if (posts.length === 0) {
                    postsSection.innerHTML = `
                        <div style="text-align: center; color: var(--text-secondary); padding: 2rem;">
                            暂无文章
                        </div>
                    `;
                    return;
                }

                const postsHTML = posts.map(post => `
                    <article class="post-item">
                        <h3 class="post-title">
                            <a href="${post.href}" class="post-link">${post.title}</a>
                        </h3>
                        <div class="post-meta">
                            <time class="post-date">${post.date}</time>
                            <span class="post-tags">
                                ${post.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                            </span>
                        </div>
                    </article>
                `).join('');

                postsSection.innerHTML = `
                    <div class="tag-posts-header">
                        <h3>标签：${tagName}</h3>
                        <p>${posts.length} 篇文章</p>
                    </div>
                    ${postsHTML}
                `;
            }
        });
    </script>
</body>
</html>
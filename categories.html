<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>分类 - 简约博客</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="site-title">简约博客</h1>
            <div class="header-right">
                <div class="mobile-actions mobile-only">
                    <button class="search-toggle" title="搜索">🔍</button>
                    <button class="theme-toggle" title="切换主题"></button>
                </div>
            </div>
        </div>
    </header>

    <!-- 搜索弹出层 -->
    <div class="search-overlay">
        <div class="search-modal">
            <div class="search-modal-header">
                <input type="text" class="search-modal-input" placeholder="搜索文章..." autofocus>
                <button class="search-close">✕</button>
            </div>
            <div class="search-history">
                <div class="search-history-header">
                    <span class="search-history-title">搜索历史</span>
                    <button class="search-history-clear">清除</button>
                </div>
                <div class="search-history-content">
                    <!-- 搜索历史将显示在这里 -->
                </div>
            </div>
            <div class="search-results">
                <div class="search-results-content">
                    <!-- 搜索结果将显示在这里 -->
                </div>
            </div>
        </div>
    </div>

    <nav class="main-nav">
        <div class="container">
            <div class="nav-links">
                <a href="index.html" class="nav-link">首页</a>
                <a href="categories.html" class="nav-link active">分类</a>
                <a href="tags.html" class="nav-link">标签</a>
                <a href="#" class="nav-link">RSS</a>
                <a href="about.html" class="nav-link">关于</a>
            </div>
        </div>
    </nav>

    <main class="main">
        <div class="container">
            <div class="page-header">
                <h2 class="page-title">文章分类</h2>
                <p class="page-description">按分类浏览文章</p>
            </div>

            <section class="categories-grid">
                <div class="category-card" data-category="技术">
                    <div class="category-icon">💻</div>
                    <h3 class="category-name">技术</h3>
                    <p class="category-description">编程、开发、技术分享</p>
                    <div class="category-count">3 篇文章</div>
                </div>

                <div class="category-card" data-category="设计">
                    <div class="category-icon">🎨</div>
                    <h3 class="category-name">设计</h3>
                    <p class="category-description">UI/UX、视觉设计</p>
                    <div class="category-count">1 篇文章</div>
                </div>

                <div class="category-card" data-category="生活">
                    <div class="category-icon">🌱</div>
                    <h3 class="category-name">生活</h3>
                    <p class="category-description">生活感悟、个人思考</p>
                    <div class="category-count">1 篇文章</div>
                </div>

                <div class="category-card" data-category="学习">
                    <div class="category-icon">📚</div>
                    <h3 class="category-name">学习</h3>
                    <p class="category-description">学习笔记、知识分享</p>
                    <div class="category-count">0 篇文章</div>
                </div>
            </section>

            <section class="posts" id="category-posts">
                <!-- 选中分类的文章列表将在这里显示 -->
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p class="copyright">&copy; 2024 简约博客. 专注内容，简约至上.</p>
        </div>
    </footer>

    <!-- 返回顶部按钮 -->
    <button class="back-to-top" title="返回顶部">TOP</button>

    <script>
        // 分类页特有的JavaScript
        document.addEventListener('DOMContentLoaded', () => {
            const categoryCards = document.querySelectorAll('.category-card');
            const postsSection = document.getElementById('category-posts');

            // 模拟文章数据
            const postsData = {
                '技术': [
                    { title: '如何构建一个简约的静态博客', date: '2024-08-19', tags: ['技术', '前端'], href: 'post.html' },
                    { title: 'JavaScript异步编程最佳实践', date: '2024-08-05', tags: ['技术', 'JavaScript'], href: 'post.html' },
                    { title: 'CSS Grid 完全指南', date: '2024-08-01', tags: ['技术', 'CSS'], href: 'post.html' }
                ],
                '设计': [
                    { title: '极简设计的美学原则', date: '2024-08-15', tags: ['设计', 'UI/UX'], href: 'post.html' }
                ],
                '生活': [
                    { title: '数字时代的深度思考', date: '2024-08-10', tags: ['生活', '思考'], href: 'post.html' }
                ],
                '学习': []
            };

            categoryCards.forEach(card => {
                card.addEventListener('click', () => {
                    // 移除之前的活跃状态
                    categoryCards.forEach(c => c.classList.remove('active'));
                    // 添加当前活跃状态
                    card.classList.add('active');

                    const categoryName = card.getAttribute('data-category');
                    displayPostsForCategory(categoryName);

                    // 平滑滚动到文章列表
                    setTimeout(() => {
                        postsSection.scrollIntoView({ behavior: 'smooth' });
                    }, 100);
                });
            });

            function displayPostsForCategory(categoryName) {
                const posts = postsData[categoryName] || [];
                
                if (posts.length === 0) {
                    postsSection.innerHTML = `
                        <div class="category-posts-header">
                            <h3>分类：${categoryName}</h3>
                            <p>暂无文章</p>
                        </div>
                        <div style="text-align: center; color: var(--text-secondary); padding: 2rem;">
                            此分类下暂无文章
                        </div>
                    `;
                    return;
                }

                const postsHTML = posts.map(post => `
                    <article class="post-item">
                        <h3 class="post-title">
                            <a href="${post.href}" class="post-link">${post.title}</a>
                        </h3>
                        <div class="post-meta">
                            <time class="post-date">${post.date}</time>
                            <span class="post-tags">
                                ${post.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                            </span>
                        </div>
                    </article>
                `).join('');

                postsSection.innerHTML = `
                    <div class="category-posts-header">
                        <h3>分类：${categoryName}</h3>
                        <p>${posts.length} 篇文章</p>
                    </div>
                    ${postsHTML}
                `;
            }
        });
    </script>
</body>
</html>